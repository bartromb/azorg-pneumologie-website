---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Nav from '../../components/Nav.astro';
import Footer from '../../components/Footer.astro';
import { getCollection, render } from 'astro:content';

export async function getStaticPaths() {
  const items = await getCollection('nieuws');
  return items.map(item => ({ params: { slug: item.slug }, props: { item } }));
}

const { item } = Astro.props;
const { Content } = await render(item);
const { titel, datum, tag, excerpt } = item.data;
---

<BaseLayout title={titel} description={excerpt}>
  <Nav />
  <div class="container article section">
    <a href="/nieuws" class="back">‚Üê Terug naar nieuws</a>

    <header>
      <span class="tag">{tag}</span>
      <h1>{titel}</h1>
      <time>{datum.toLocaleDateString('nl-BE',{day:'numeric',month:'long',year:'numeric'})}</time>
    </header>

    <div class="prose"><Content /></div>
  </div>
  <Footer />
</BaseLayout>

<style>
.back { display:inline-flex; gap:6px; color:var(--red); text-decoration:none; font-size:13.5px; font-weight:600; margin-bottom:32px; }
header { margin-bottom:40px; }
.tag { font-size:11px; font-weight:700; letter-spacing:.09em; text-transform:uppercase; color:var(--red); display:block; margin-bottom:10px; }
h1 { font-size:clamp(24px,3.5vw,38px); margin-bottom:10px; }
time { font-size:13px; color:var(--muted); }
.prose { max-width:720px; font-size:16px; line-height:1.8; }
.prose h2 { font-size:22px; margin:36px 0 12px; }
.prose p { margin-bottom:16px; }
.prose ul, .prose ol { padding-left:24px; margin-bottom:16px; }
.prose li { margin-bottom:6px; }
.prose strong { font-weight:700; }
.prose a { color:var(--red); }
</style>
